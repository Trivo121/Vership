{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\Projects\\\\Vership\\\\frontend\\\\src\\\\components\\\\Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport debounce from 'lodash.debounce';\n\n// Country configuration (codes used in parcels table)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COUNTRY_CONFIG = {\n  US: {\n    currency: 'USD',\n    valueThreshold: 2500,\n    htsLength: 10\n  },\n  CA: {\n    currency: 'CAD',\n    valueThreshold: 3300,\n    htsLength: 10\n  },\n  DE: {\n    currency: 'EUR',\n    valueThreshold: 1000,\n    htsLength: 10\n  },\n  AE: {\n    currency: 'AED',\n    valueThreshold: 10000,\n    htsLength: 8\n  }\n};\n\n// Map country codes to full names (for compliance-check)\nconst COUNTRY_MAP = {\n  US: 'United States',\n  CA: 'Canada',\n  DE: 'Germany',\n  AE: 'United Arab Emirates'\n};\n\n// Expanded options for item types\nconst ITEM_TYPE_OPTIONS = [{\n  value: 'Electronics',\n  label: 'Electronics'\n}, {\n  value: 'Pharmaceuticals',\n  label: 'Pharmaceuticals'\n}, {\n  value: 'Lithium Batteries',\n  label: 'Lithium Batteries'\n}, {\n  value: 'Perfume',\n  label: 'Perfume'\n}, {\n  value: 'Chemicals',\n  label: 'Chemicals'\n}, {\n  value: 'Food',\n  label: 'Food'\n}, {\n  value: 'Alcohol',\n  label: 'Alcohol'\n}, {\n  value: 'Perishables',\n  label: 'Perishables'\n}, {\n  value: 'Dangerous Goods',\n  label: 'Dangerous Goods'\n}, {\n  value: 'Fragile Items',\n  label: 'Fragile Items'\n}, {\n  value: 'Clothing',\n  label: 'Clothing'\n}, {\n  value: 'Documents',\n  label: 'Documents'\n}, {\n  value: 'Heavy Machinery',\n  label: 'Heavy Machinery'\n}, {\n  value: 'Others',\n  label: 'Others'\n}];\n\n// Options for new fields\nconst PURPOSE_OPTIONS = [{\n  value: 'Commercial',\n  label: 'Commercial'\n}, {\n  value: 'Gift',\n  label: 'Gift'\n}, {\n  value: 'Documents',\n  label: 'Documents'\n}, {\n  value: 'Personal Effects',\n  label: 'Personal Effects'\n}, {\n  value: 'Sample',\n  label: 'Sample'\n}];\nconst SHIPPING_TERMS_OPTIONS = [{\n  value: 'DAP',\n  label: 'DAP'\n}, {\n  value: 'DDP',\n  label: 'DDP'\n}, {\n  value: 'EXW',\n  label: 'EXW'\n}, {\n  value: 'FOB',\n  label: 'FOB'\n}, {\n  value: 'Duties Paid by Sender',\n  label: 'Duties Paid by Sender'\n}, {\n  value: 'Duties Paid by Receiver',\n  label: 'Duties Paid by Receiver'\n}];\nconst ORIGIN_COUNTRY_OPTIONS = Object.entries(COUNTRY_MAP).map(_c = ([code, fullName]) => ({\n  value: code,\n  label: fullName\n}));\n_c2 = ORIGIN_COUNTRY_OPTIONS;\nfunction ComplianceForm({\n  onSubmitSuccess\n}) {\n  _s();\n  var _COUNTRY_CONFIG$formD2;\n  const [formData, setFormData] = useState({\n    sender: '',\n    recipient: '',\n    productDescription: '',\n    itemType: '',\n    quantity: '',\n    weight: '',\n    unit: 'kg',\n    destination: '',\n    declaredValue: '',\n    currency: 'USD',\n    htsCode: '',\n    eccn: '',\n    countrySpecificNotes: '',\n    purposeOfShipment: '',\n    shippingTerms: '',\n    originCountry: ''\n  });\n  const [errors, setErrors] = useState({\n    sender: '',\n    recipient: '',\n    productDescription: '',\n    itemType: '',\n    quantity: '',\n    weight: '',\n    destination: '',\n    declaredValue: '',\n    htsCode: '',\n    restrictions: [],\n    complianceNotes: [],\n    purposeOfShipment: '',\n    shippingTerms: '',\n    originCountry: ''\n  });\n  const [countryRules, setCountryRules] = useState(null);\n  const [touched, setTouched] = useState({});\n  const [isChecking, setIsChecking] = useState(false);\n  const [submissionError, setSubmissionError] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n  // New state: only true after compliance check has been performed\n  const [complianceVerified, setComplianceVerified] = useState(false);\n\n  // Real-time validation for individual fields\n  const validateField = (name, value) => {\n    const rules = {\n      sender: val => !!val.trim() ? '' : 'Sender is required',\n      recipient: val => !!val.trim() ? '' : 'Recipient is required',\n      productDescription: val => !!val.trim() ? '' : 'Product description is required',\n      itemType: val => !!val.trim() ? '' : 'Item type is required',\n      quantity: val => Number(val) > 0 ? '' : 'Quantity must be positive',\n      weight: val => Number(val) > 0 ? '' : 'Weight must be positive',\n      destination: val => !!val.trim() ? '' : 'Destination is required',\n      declaredValue: val => Number(val) > 0 ? '' : 'Value must be positive',\n      htsCode: val => {\n        var _COUNTRY_CONFIG$formD;\n        if (!formData.destination) return '';\n        const expectedLength = ((_COUNTRY_CONFIG$formD = COUNTRY_CONFIG[formData.destination]) === null || _COUNTRY_CONFIG$formD === void 0 ? void 0 : _COUNTRY_CONFIG$formD.htsLength) || 10;\n        return new RegExp(`^\\\\d{${expectedLength}}$`).test(val) ? '' : `Invalid HTS code (${expectedLength} digits required)`;\n      },\n      purposeOfShipment: val => !!val.trim() ? '' : 'Purpose of Shipment is required',\n      shippingTerms: val => !!val.trim() ? '' : 'Shipping Terms are required'\n    };\n    return rules[name] ? rules[name](value) : '';\n  };\n\n  // Function to manually trigger compliance check\n  const runComplianceCheck = () => {\n    if (!formData.destination || !formData.itemType || !formData.declaredValue) {\n      setSubmissionError('Please fill in destination, item type, and declared value to check compliance');\n      return;\n    }\n\n    // Cancel any pending debounced checks\n    checkCountryRules.cancel();\n\n    // Run the check immediately\n    performComplianceCheck();\n  };\n\n  // Separated the actual API call for reuse\n  const performComplianceCheck = async () => {\n    setIsChecking(true);\n    setSubmissionError(null);\n    try {\n      const response = await fetch('http://localhost:3000/api/compliance-check', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          destination: formData.destination,\n          itemType: formData.itemType,\n          declaredValue: formData.declaredValue,\n          htsCode: formData.htsCode,\n          un_number: formData.un_number || \"\"\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Compliance check failed');\n      }\n      const {\n        restrictions,\n        requirements\n      } = await response.json();\n      setErrors(prev => ({\n        ...prev,\n        restrictions,\n        complianceNotes: requirements\n      }));\n      setCountryRules(requirements);\n      setComplianceVerified(true);\n    } catch (error) {\n      console.error('Compliance check failed:', error);\n      setSubmissionError('Failed to verify compliance. Please try again.');\n    } finally {\n      setIsChecking(false);\n    }\n  };\n\n  // Check country-specific compliance rules (debounced)\n  const checkCountryRules = debounce(() => {\n    if (!formData.destination || !formData.itemType || !formData.declaredValue) return;\n    performComplianceCheck();\n  }, 500);\n\n  // Handle field changes\n  const handleChange = (name, value) => {\n    console.log(`Field ${name} updated to:`, value);\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setErrors(prev => ({\n      ...prev,\n      [name]: validateField(name, value)\n    }));\n\n    // If any field that affects compliance is updated, reset the verification flag.\n    if (['destination', 'itemType', 'declaredValue', 'htsCode'].includes(name)) {\n      setComplianceVerified(false);\n    }\n  };\n\n  // Update currency when destination changes\n  useEffect(() => {\n    if (formData.destination && COUNTRY_CONFIG[formData.destination]) {\n      setFormData(prev => ({\n        ...prev,\n        currency: COUNTRY_CONFIG[formData.destination].currency\n      }));\n    }\n  }, [formData.destination]);\n  const isFormValid = () => {\n    // Check all standard validations first\n    const standardErrors = Object.entries(formData).reduce((acc, [key, value]) => {\n      if (key !== 'eccn' && key !== 'countrySpecificNotes' && key !== 'un_number') {\n        const error = validateField(key, value);\n        acc[key] = error;\n      }\n      return acc;\n    }, {});\n\n    // Return false if any standard errors exist\n    if (Object.values(standardErrors).some(error => error !== '')) {\n      return false;\n    }\n\n    // All validation passed\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Check if form is valid\n    if (!isFormValid()) {\n      setSubmissionError('Please correct all errors before submitting');\n      return;\n    }\n\n    // Check if compliance was verified\n    if (!complianceVerified) {\n      setSubmissionError('Please verify compliance before submitting');\n      return;\n    }\n    setSubmitting(true);\n    setSubmissionError(null);\n    try {\n      const status = errors.restrictions.length > 0 ? 'Rejected' : 'Compliant';\n      const complianceNotes = errors.restrictions.concat(errors.complianceNotes).join(' | ');\n\n      // Build payload including new fields\n      const payload = {\n        sender: formData.sender,\n        recipient_address: formData.recipient,\n        item_type: formData.itemType,\n        weight: parseFloat(formData.weight),\n        destination: formData.destination,\n        declared_value: parseFloat(formData.declaredValue),\n        hts_code: formData.htsCode,\n        status,\n        compliance_notes: complianceNotes,\n        purpose_of_shipment: formData.purposeOfShipment,\n        shipping_terms: formData.shippingTerms,\n        origin_country: formData.originCountry\n      };\n      console.log('Submitting payload:', payload);\n      const response = await fetch('http://localhost:3000/api/parcels', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) {\n        try {\n          const errorResponse = await response.json();\n          throw new Error(errorResponse.error || 'Failed to submit shipment.');\n        } catch (error) {\n          console.error('Backend error:', error);\n          throw new Error(error.message || 'Failed to submit shipment.');\n        }\n      }\n      const result = await response.json();\n      console.log('Shipment submitted:', result);\n      if (onSubmitSuccess) {\n        onSubmitSuccess(result);\n      }\n\n      // Reset form fields\n      setFormData({\n        sender: '',\n        recipient: '',\n        productDescription: '',\n        itemType: '',\n        quantity: '',\n        weight: '',\n        unit: 'kg',\n        destination: '',\n        declaredValue: '',\n        currency: 'USD',\n        htsCode: '',\n        eccn: '',\n        countrySpecificNotes: '',\n        purposeOfShipment: '',\n        shippingTerms: '',\n        originCountry: ''\n      });\n      setTouched({});\n      setErrors({\n        sender: '',\n        recipient: '',\n        productDescription: '',\n        itemType: '',\n        quantity: '',\n        weight: '',\n        destination: '',\n        declaredValue: '',\n        htsCode: '',\n        restrictions: [],\n        complianceNotes: [],\n        purposeOfShipment: '',\n        shippingTerms: '',\n        originCountry: ''\n      });\n      setCountryRules(null);\n      setComplianceVerified(false);\n    } catch (error) {\n      console.error(error);\n      setSubmissionError(error.message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6 text-blue-800\",\n      children: \"Export Compliance Verification\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Parties Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"Sender Name\",\n          name: \"sender\",\n          value: formData.sender,\n          onChange: handleChange,\n          error: errors.sender,\n          touched: touched.sender,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"Recipient Address\",\n          name: \"recipient\",\n          value: formData.recipient,\n          onChange: handleChange,\n          error: errors.recipient,\n          touched: touched.recipient,\n          textarea: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Product Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"Product Description\",\n          name: \"productDescription\",\n          value: formData.productDescription,\n          onChange: handleChange,\n          error: errors.productDescription,\n          touched: touched.productDescription,\n          textarea: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(SelectField, {\n            label: \"Item Type\",\n            name: \"itemType\",\n            value: formData.itemType,\n            options: ITEM_TYPE_OPTIONS,\n            onChange: handleChange,\n            error: errors.itemType,\n            touched: touched.itemType,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Quantity\",\n            name: \"quantity\",\n            type: \"number\",\n            value: formData.quantity,\n            onChange: handleChange,\n            error: errors.quantity,\n            touched: touched.quantity,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Weight\",\n            name: \"weight\",\n            type: \"number\",\n            value: formData.weight,\n            onChange: handleChange,\n            error: errors.weight,\n            touched: touched.weight,\n            required: true,\n            suffix: /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"unit\",\n              value: formData.unit,\n              onChange: e => handleChange('unit', e.target.value),\n              className: \"ml-2 p-2 border rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"kg\",\n                children: \"kg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"lbs\",\n                children: \"lbs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n            label: \"Destination Country\",\n            name: \"destination\",\n            value: formData.destination,\n            options: Object.entries(COUNTRY_CONFIG).map(([code]) => ({\n              value: code,\n              label: code === 'US' ? 'United States' : code === 'CA' ? 'Canada' : code === 'DE' ? 'Germany' : 'United Arab Emirates'\n            })),\n            onChange: handleChange,\n            error: errors.destination,\n            touched: touched.destination,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Commercial Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Declared Value\",\n            name: \"declaredValue\",\n            type: \"number\",\n            value: formData.declaredValue,\n            onChange: handleChange,\n            error: errors.declaredValue,\n            touched: touched.declaredValue,\n            required: true,\n            prefix: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mr-2\",\n              children: formData.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 216\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"HTS Code\",\n            name: \"htsCode\",\n            value: formData.htsCode,\n            onChange: handleChange,\n            error: errors.htsCode,\n            touched: touched.htsCode,\n            required: true,\n            placeholder: `Enter ${((_COUNTRY_CONFIG$formD2 = COUNTRY_CONFIG[formData.destination]) === null || _COUNTRY_CONFIG$formD2 === void 0 ? void 0 : _COUNTRY_CONFIG$formD2.htsLength) || 10}-digit code`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"ECCN (Export Control Classification Number)\",\n          name: \"eccn\",\n          value: formData.eccn,\n          onChange: handleChange,\n          placeholder: \"Enter ECCN if applicable\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Additional Shipment Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(SelectField, {\n            label: \"Purpose of Shipment\",\n            name: \"purposeOfShipment\",\n            value: formData.purposeOfShipment,\n            options: PURPOSE_OPTIONS,\n            onChange: handleChange,\n            error: errors.purposeOfShipment,\n            touched: touched.purposeOfShipment,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n            label: \"Shipping Terms\",\n            name: \"shippingTerms\",\n            value: formData.shippingTerms,\n            options: SHIPPING_TERMS_OPTIONS,\n            onChange: handleChange,\n            error: errors.shippingTerms,\n            touched: touched.shippingTerms,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n          label: \"Origin Country\",\n          name: \"originCountry\",\n          value: formData.originCountry,\n          options: ORIGIN_COUNTRY_OPTIONS,\n          onChange: handleChange,\n          error: errors.originCountry,\n          touched: touched.originCountry,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: runComplianceCheck,\n          disabled: isChecking || !formData.destination || !formData.itemType || !formData.declaredValue,\n          className: `w-full py-3 px-6 rounded-lg font-semibold transition-colors ${!isChecking && formData.destination && formData.itemType && formData.declaredValue ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n          children: isChecking ? 'Checking Compliance...' : 'Verify Compliance'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4\",\n        children: [isChecking && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-blue-50 text-blue-800 rounded-lg\",\n          children: \"Checking international compliance regulations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this), errors.restrictions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-red-50 text-red-800 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-2\",\n            children: \"Compliance Restrictions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc pl-6\",\n            children: errors.restrictions.map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: error\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), countryRules && countryRules.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-yellow-50 text-yellow-800 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-2\",\n            children: \"Country Requirements:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc pl-6\",\n            children: countryRules.map((rule, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: rule\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), complianceVerified && errors.restrictions.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-green-50 text-green-800 rounded-lg\",\n          children: \"\\u2713 Shipment complies with all regulations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this), submissionError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-red-100 text-red-800 rounded-lg\",\n          children: submissionError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !isFormValid() || isChecking || submitting || !complianceVerified,\n        className: `w-full py-3 px-6 rounded-lg font-semibold transition-colors ${isFormValid() && complianceVerified && !isChecking && !submitting ? 'bg-green-600 hover:bg-green-700 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n        children: submitting ? 'Submitting...' : 'Submit Shipment'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 345,\n    columnNumber: 5\n  }, this);\n}\n\n// Reusable Input Component\n_s(ComplianceForm, \"kJVvuEGyY6AJVc4XQeG48zlA/EY=\");\n_c3 = ComplianceForm;\nconst InputField = ({\n  label,\n  name,\n  value,\n  onChange,\n  error,\n  touched,\n  type = 'text',\n  textarea = false,\n  prefix,\n  suffix,\n  required = false,\n  ...props\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"block text-sm font-medium text-gray-700 mb-1\",\n    children: [label, required && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-red-500\",\n      children: \"*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 467,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-2\",\n    children: [prefix && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: prefix\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 18\n    }, this), textarea ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: name,\n      value: value,\n      onChange: e => onChange(name, e.target.value),\n      className: `w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`,\n      rows: \"3\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n      type: type,\n      name: name,\n      value: value,\n      onChange: e => onChange(name, e.target.value),\n      className: `w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 9\n    }, this), suffix && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: suffix\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 470,\n    columnNumber: 5\n  }, this), error && touched && /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-1 text-sm text-red-600\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 479,\n    columnNumber: 26\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 466,\n  columnNumber: 3\n}, this);\n\n// Reusable Select Component\n_c4 = InputField;\nconst SelectField = ({\n  label,\n  name,\n  value,\n  options,\n  onChange,\n  error,\n  touched,\n  required = false\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"block text-sm font-medium text-gray-700 mb-1\",\n    children: [label, required && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-red-500\",\n      children: \"*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 486,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n    name: name,\n    value: value,\n    onChange: e => onChange(name, e.target.value),\n    className: `w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"\",\n      children: [\"Select \", label]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 7\n    }, this), options.map((option, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: option.value || option,\n      children: option.label || option\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 489,\n    columnNumber: 5\n  }, this), error && touched && /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-1 text-sm text-red-600\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 495,\n    columnNumber: 26\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 485,\n  columnNumber: 3\n}, this);\n_c5 = SelectField;\nexport default ComplianceForm;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ORIGIN_COUNTRY_OPTIONS$Object.entries(COUNTRY_MAP).map\");\n$RefreshReg$(_c2, \"ORIGIN_COUNTRY_OPTIONS\");\n$RefreshReg$(_c3, \"ComplianceForm\");\n$RefreshReg$(_c4, \"InputField\");\n$RefreshReg$(_c5, \"SelectField\");","map":{"version":3,"names":["React","useState","useEffect","debounce","jsxDEV","_jsxDEV","COUNTRY_CONFIG","US","currency","valueThreshold","htsLength","CA","DE","AE","COUNTRY_MAP","ITEM_TYPE_OPTIONS","value","label","PURPOSE_OPTIONS","SHIPPING_TERMS_OPTIONS","ORIGIN_COUNTRY_OPTIONS","Object","entries","map","_c","code","fullName","_c2","ComplianceForm","onSubmitSuccess","_s","_COUNTRY_CONFIG$formD2","formData","setFormData","sender","recipient","productDescription","itemType","quantity","weight","unit","destination","declaredValue","htsCode","eccn","countrySpecificNotes","purposeOfShipment","shippingTerms","originCountry","errors","setErrors","restrictions","complianceNotes","countryRules","setCountryRules","touched","setTouched","isChecking","setIsChecking","submissionError","setSubmissionError","submitting","setSubmitting","complianceVerified","setComplianceVerified","validateField","name","rules","val","trim","Number","_COUNTRY_CONFIG$formD","expectedLength","RegExp","test","runComplianceCheck","checkCountryRules","cancel","performComplianceCheck","response","fetch","method","headers","body","JSON","stringify","un_number","ok","Error","requirements","json","prev","error","console","handleChange","log","includes","isFormValid","standardErrors","reduce","acc","key","values","some","handleSubmit","e","preventDefault","status","length","concat","join","payload","recipient_address","item_type","parseFloat","declared_value","hts_code","compliance_notes","purpose_of_shipment","shipping_terms","origin_country","errorResponse","message","result","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","InputField","onChange","required","textarea","SelectField","options","type","suffix","target","prefix","placeholder","onClick","disabled","index","rule","_c3","props","rows","_c4","option","_c5","$RefreshReg$"],"sources":["D:/Study/Projects/Vership/frontend/src/components/Form.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport debounce from 'lodash.debounce';\r\n\r\n// Country configuration (codes used in parcels table)\r\nconst COUNTRY_CONFIG = {\r\n  US: { currency: 'USD', valueThreshold: 2500, htsLength: 10 },\r\n  CA: { currency: 'CAD', valueThreshold: 3300, htsLength: 10 },\r\n  DE: { currency: 'EUR', valueThreshold: 1000, htsLength: 10 },\r\n  AE: { currency: 'AED', valueThreshold: 10000, htsLength: 8 }\r\n};\r\n\r\n// Map country codes to full names (for compliance-check)\r\nconst COUNTRY_MAP = {\r\n  US: 'United States',\r\n  CA: 'Canada',\r\n  DE: 'Germany',\r\n  AE: 'United Arab Emirates'\r\n};\r\n\r\n// Expanded options for item types\r\nconst ITEM_TYPE_OPTIONS = [\r\n  { value: 'Electronics', label: 'Electronics' },\r\n  { value: 'Pharmaceuticals', label: 'Pharmaceuticals' },\r\n  { value: 'Lithium Batteries', label: 'Lithium Batteries' },\r\n  { value: 'Perfume', label: 'Perfume' },\r\n  { value: 'Chemicals', label: 'Chemicals' },\r\n  { value: 'Food', label: 'Food' },\r\n  { value: 'Alcohol', label: 'Alcohol' },\r\n  { value: 'Perishables', label: 'Perishables' },\r\n  { value: 'Dangerous Goods', label: 'Dangerous Goods' },\r\n  { value: 'Fragile Items', label: 'Fragile Items' },\r\n  { value: 'Clothing', label: 'Clothing' },\r\n  { value: 'Documents', label: 'Documents' },\r\n  { value: 'Heavy Machinery', label: 'Heavy Machinery' },\r\n  { value: 'Others', label: 'Others' }\r\n];\r\n\r\n// Options for new fields\r\nconst PURPOSE_OPTIONS = [\r\n  { value: 'Commercial', label: 'Commercial' },\r\n  { value: 'Gift', label: 'Gift' },\r\n  { value: 'Documents', label: 'Documents' },\r\n  { value: 'Personal Effects', label: 'Personal Effects' },\r\n  { value: 'Sample', label: 'Sample' }\r\n];\r\n\r\nconst SHIPPING_TERMS_OPTIONS = [\r\n  { value: 'DAP', label: 'DAP' },\r\n  { value: 'DDP', label: 'DDP' },\r\n  { value: 'EXW', label: 'EXW' },\r\n  { value: 'FOB', label: 'FOB' },\r\n  { value: 'Duties Paid by Sender', label: 'Duties Paid by Sender' },\r\n  { value: 'Duties Paid by Receiver', label: 'Duties Paid by Receiver' }\r\n];\r\n\r\nconst ORIGIN_COUNTRY_OPTIONS = Object.entries(COUNTRY_MAP).map(([code, fullName]) => ({\r\n  value: code,\r\n  label: fullName\r\n}));\r\n\r\nfunction ComplianceForm({ onSubmitSuccess }) {\r\n  const [formData, setFormData] = useState({\r\n    sender: '',\r\n    recipient: '',\r\n    productDescription: '',\r\n    itemType: '',\r\n    quantity: '',\r\n    weight: '',\r\n    unit: 'kg',\r\n    destination: '',\r\n    declaredValue: '',\r\n    currency: 'USD',\r\n    htsCode: '',\r\n    eccn: '',\r\n    countrySpecificNotes: '',\r\n    purposeOfShipment: '',\r\n    shippingTerms: '',\r\n    originCountry: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    sender: '',\r\n    recipient: '',\r\n    productDescription: '',\r\n    itemType: '',\r\n    quantity: '',\r\n    weight: '',\r\n    destination: '',\r\n    declaredValue: '',\r\n    htsCode: '',\r\n    restrictions: [],\r\n    complianceNotes: [],\r\n    purposeOfShipment: '',\r\n    shippingTerms: '',\r\n    originCountry: ''\r\n  });\r\n\r\n  const [countryRules, setCountryRules] = useState(null);\r\n  const [touched, setTouched] = useState({});\r\n  const [isChecking, setIsChecking] = useState(false);\r\n  const [submissionError, setSubmissionError] = useState(null);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  // New state: only true after compliance check has been performed\r\n  const [complianceVerified, setComplianceVerified] = useState(false);\r\n\r\n  // Real-time validation for individual fields\r\n  const validateField = (name, value) => {\r\n    const rules = {\r\n      sender: val => !!val.trim() ? '' : 'Sender is required',\r\n      recipient: val => !!val.trim() ? '' : 'Recipient is required',\r\n      productDescription: val => !!val.trim() ? '' : 'Product description is required',\r\n      itemType: val => !!val.trim() ? '' : 'Item type is required',\r\n      quantity: val => Number(val) > 0 ? '' : 'Quantity must be positive',\r\n      weight: val => Number(val) > 0 ? '' : 'Weight must be positive',\r\n      destination: val => !!val.trim() ? '' : 'Destination is required',\r\n      declaredValue: val => Number(val) > 0 ? '' : 'Value must be positive',\r\n      htsCode: val => {\r\n        if (!formData.destination) return '';\r\n        const expectedLength = COUNTRY_CONFIG[formData.destination]?.htsLength || 10;\r\n        return new RegExp(`^\\\\d{${expectedLength}}$`).test(val)\r\n          ? ''\r\n          : `Invalid HTS code (${expectedLength} digits required)`;\r\n      },\r\n      purposeOfShipment: val => !!val.trim() ? '' : 'Purpose of Shipment is required',\r\n      shippingTerms: val => !!val.trim() ? '' : 'Shipping Terms are required'\r\n    };\r\n\r\n    return rules[name] ? rules[name](value) : '';\r\n  };\r\n\r\n  // Function to manually trigger compliance check\r\n  const runComplianceCheck = () => {\r\n    if (!formData.destination || !formData.itemType || !formData.declaredValue) {\r\n      setSubmissionError('Please fill in destination, item type, and declared value to check compliance');\r\n      return;\r\n    }\r\n\r\n    // Cancel any pending debounced checks\r\n    checkCountryRules.cancel();\r\n    \r\n    // Run the check immediately\r\n    performComplianceCheck();\r\n  };\r\n\r\n  // Separated the actual API call for reuse\r\n  const performComplianceCheck = async () => {\r\n    setIsChecking(true);\r\n    setSubmissionError(null);\r\n    \r\n    try {\r\n      const response = await fetch('http://localhost:3000/api/compliance-check', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          destination: formData.destination,\r\n          itemType: formData.itemType,\r\n          declaredValue: formData.declaredValue,\r\n          htsCode: formData.htsCode,             \r\n          un_number: formData.un_number || \"\"    \r\n        })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Compliance check failed');\r\n      }\r\n\r\n      const { restrictions, requirements } = await response.json();\r\n\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        restrictions,\r\n        complianceNotes: requirements\r\n      }));\r\n      setCountryRules(requirements);\r\n      setComplianceVerified(true);\r\n    } catch (error) {\r\n      console.error('Compliance check failed:', error);\r\n      setSubmissionError('Failed to verify compliance. Please try again.');\r\n    } finally {\r\n      setIsChecking(false);\r\n    }\r\n  };\r\n\r\n  // Check country-specific compliance rules (debounced)\r\n  const checkCountryRules = debounce(() => {\r\n    if (!formData.destination || !formData.itemType || !formData.declaredValue) return;\r\n    performComplianceCheck();\r\n  }, 500);\r\n\r\n  // Handle field changes\r\n  const handleChange = (name, value) => {\r\n    console.log(`Field ${name} updated to:`, value);\r\n    setTouched(prev => ({ ...prev, [name]: true }));\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    setErrors(prev => ({\r\n      ...prev,\r\n      [name]: validateField(name, value)\r\n    }));\r\n    \r\n    // If any field that affects compliance is updated, reset the verification flag.\r\n    if (['destination', 'itemType', 'declaredValue', 'htsCode'].includes(name)) {\r\n      setComplianceVerified(false);\r\n    }\r\n  };\r\n\r\n  // Update currency when destination changes\r\n  useEffect(() => {\r\n    if (formData.destination && COUNTRY_CONFIG[formData.destination]) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        currency: COUNTRY_CONFIG[formData.destination].currency\r\n      }));\r\n    }\r\n  }, [formData.destination]);\r\n\r\n  const isFormValid = () => {\r\n    // Check all standard validations first\r\n    const standardErrors = Object.entries(formData).reduce((acc, [key, value]) => {\r\n      if (key !== 'eccn' && key !== 'countrySpecificNotes' && key !== 'un_number') {\r\n        const error = validateField(key, value);\r\n        acc[key] = error;\r\n      }\r\n      return acc;\r\n    }, {});\r\n    \r\n    // Return false if any standard errors exist\r\n    if (Object.values(standardErrors).some(error => error !== '')) {\r\n      return false;\r\n    }\r\n    \r\n    // All validation passed\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Check if form is valid\r\n    if (!isFormValid()) {\r\n      setSubmissionError('Please correct all errors before submitting');\r\n      return;\r\n    }\r\n    \r\n    // Check if compliance was verified\r\n    if (!complianceVerified) {\r\n      setSubmissionError('Please verify compliance before submitting');\r\n      return;\r\n    }\r\n    \r\n    setSubmitting(true);\r\n    setSubmissionError(null);\r\n    \r\n    try {\r\n      const status = errors.restrictions.length > 0 ? 'Rejected' : 'Compliant';\r\n      const complianceNotes = errors.restrictions.concat(errors.complianceNotes).join(' | ');\r\n\r\n      // Build payload including new fields\r\n      const payload = {\r\n        sender: formData.sender,\r\n        recipient_address: formData.recipient,\r\n        item_type: formData.itemType,\r\n        weight: parseFloat(formData.weight),\r\n        destination: formData.destination,\r\n        declared_value: parseFloat(formData.declaredValue),\r\n        hts_code: formData.htsCode,\r\n        status,\r\n        compliance_notes: complianceNotes,\r\n        purpose_of_shipment: formData.purposeOfShipment,\r\n        shipping_terms: formData.shippingTerms,\r\n        origin_country: formData.originCountry\r\n      };\r\n\r\n      console.log('Submitting payload:', payload);\r\n\r\n      const response = await fetch('http://localhost:3000/api/parcels', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        try {\r\n          const errorResponse = await response.json();\r\n          throw new Error(errorResponse.error || 'Failed to submit shipment.');\r\n        } catch (error) {\r\n          console.error('Backend error:', error);\r\n          throw new Error(error.message || 'Failed to submit shipment.');\r\n        }\r\n      }\r\n      \r\n      const result = await response.json();\r\n      console.log('Shipment submitted:', result);\r\n      \r\n      if (onSubmitSuccess) {\r\n        onSubmitSuccess(result);\r\n      }\r\n      \r\n      // Reset form fields\r\n      setFormData({\r\n        sender: '',\r\n        recipient: '',\r\n        productDescription: '',\r\n        itemType: '',\r\n        quantity: '',\r\n        weight: '',\r\n        unit: 'kg',\r\n        destination: '',\r\n        declaredValue: '',\r\n        currency: 'USD',\r\n        htsCode: '',\r\n        eccn: '',\r\n        countrySpecificNotes: '',\r\n        purposeOfShipment: '',\r\n        shippingTerms: '',\r\n        originCountry: ''\r\n      });\r\n      setTouched({});\r\n      setErrors({\r\n        sender: '',\r\n        recipient: '',\r\n        productDescription: '',\r\n        itemType: '',\r\n        quantity: '',\r\n        weight: '',\r\n        destination: '',\r\n        declaredValue: '',\r\n        htsCode: '',\r\n        restrictions: [],\r\n        complianceNotes: [],\r\n        purposeOfShipment: '',\r\n        shippingTerms: '',\r\n        originCountry: ''\r\n      });\r\n      setCountryRules(null);\r\n      setComplianceVerified(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setSubmissionError(error.message);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-xl\">\r\n      <h1 className=\"text-2xl font-bold mb-6 text-blue-800\">Export Compliance Verification</h1>\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Sender/Receiver Section */}\r\n        <section className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold mb-2\">Parties Information</h2>\r\n          <InputField label=\"Sender Name\" name=\"sender\" value={formData.sender} onChange={handleChange} error={errors.sender} touched={touched.sender} required />\r\n          <InputField label=\"Recipient Address\" name=\"recipient\" value={formData.recipient} onChange={handleChange} error={errors.recipient} touched={touched.recipient} textarea required />\r\n        </section>\r\n        {/* Product Details Section */}\r\n        <section className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold mb-2\">Product Details</h2>\r\n          <InputField label=\"Product Description\" name=\"productDescription\" value={formData.productDescription} onChange={handleChange} error={errors.productDescription} touched={touched.productDescription} textarea required />\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <SelectField label=\"Item Type\" name=\"itemType\" value={formData.itemType} options={ITEM_TYPE_OPTIONS} onChange={handleChange} error={errors.itemType} touched={touched.itemType} required />\r\n            <InputField label=\"Quantity\" name=\"quantity\" type=\"number\" value={formData.quantity} onChange={handleChange} error={errors.quantity} touched={touched.quantity} required />\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <InputField label=\"Weight\" name=\"weight\" type=\"number\" value={formData.weight} onChange={handleChange} error={errors.weight} touched={touched.weight} required suffix={\r\n              <select name=\"unit\" value={formData.unit} onChange={(e) => handleChange('unit', e.target.value)} className=\"ml-2 p-2 border rounded\">\r\n                <option value=\"kg\">kg</option>\r\n                <option value=\"lbs\">lbs</option>\r\n              </select>\r\n            } />\r\n            <SelectField label=\"Destination Country\" name=\"destination\" value={formData.destination} options={Object.entries(COUNTRY_CONFIG).map(([code]) => ({\r\n              value: code,\r\n              label: code === 'US' ? 'United States' : code === 'CA' ? 'Canada' : code === 'DE' ? 'Germany' : 'United Arab Emirates'\r\n            }))} onChange={handleChange} error={errors.destination} touched={touched.destination} required />\r\n          </div>\r\n        </section>\r\n        {/* Commercial Information Section */}\r\n        <section className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold mb-2\">Commercial Information</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <InputField label=\"Declared Value\" name=\"declaredValue\" type=\"number\" value={formData.declaredValue} onChange={handleChange} error={errors.declaredValue} touched={touched.declaredValue} required prefix={<span className=\"mr-2\">{formData.currency}</span>} />\r\n            <InputField label=\"HTS Code\" name=\"htsCode\" value={formData.htsCode} onChange={handleChange} error={errors.htsCode} touched={touched.htsCode} required placeholder={`Enter ${COUNTRY_CONFIG[formData.destination]?.htsLength || 10}-digit code`} />\r\n          </div>\r\n          <InputField label=\"ECCN (Export Control Classification Number)\" name=\"eccn\" value={formData.eccn} onChange={handleChange} placeholder=\"Enter ECCN if applicable\" />\r\n        </section>\r\n        {/* Additional Shipment Information Section */}\r\n        <section className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold mb-2\">Additional Shipment Information</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <SelectField label=\"Purpose of Shipment\" name=\"purposeOfShipment\" value={formData.purposeOfShipment} options={PURPOSE_OPTIONS} onChange={handleChange} error={errors.purposeOfShipment} touched={touched.purposeOfShipment} required />\r\n            <SelectField label=\"Shipping Terms\" name=\"shippingTerms\" value={formData.shippingTerms} options={SHIPPING_TERMS_OPTIONS} onChange={handleChange} error={errors.shippingTerms} touched={touched.shippingTerms} required />\r\n          </div>\r\n          <SelectField label=\"Origin Country\" name=\"originCountry\" value={formData.originCountry} options={ORIGIN_COUNTRY_OPTIONS} onChange={handleChange} error={errors.originCountry} touched={touched.originCountry} required />\r\n        </section>\r\n        \r\n        {/* Verify Compliance Button */}\r\n        <div className=\"mt-6\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={runComplianceCheck}\r\n            disabled={isChecking || !formData.destination || !formData.itemType || !formData.declaredValue}\r\n            className={`w-full py-3 px-6 rounded-lg font-semibold transition-colors ${\r\n              (!isChecking && formData.destination && formData.itemType && formData.declaredValue)\r\n                ? 'bg-blue-600 hover:bg-blue-700 text-white'\r\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n            }`}\r\n          >\r\n            {isChecking ? 'Checking Compliance...' : 'Verify Compliance'}\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Compliance Feedback Section */}\r\n        <section className=\"space-y-4\">\r\n          {isChecking && (\r\n            <div className=\"p-4 bg-blue-50 text-blue-800 rounded-lg\">\r\n              Checking international compliance regulations...\r\n            </div>\r\n          )}\r\n          {errors.restrictions.length > 0 && (\r\n            <div className=\"p-4 bg-red-50 text-red-800 rounded-lg\">\r\n              <h3 className=\"font-semibold mb-2\">Compliance Restrictions:</h3>\r\n              <ul className=\"list-disc pl-6\">\r\n                {errors.restrictions.map((error, index) => (\r\n                  <li key={index}>{error}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          {countryRules && countryRules.length > 0 && (\r\n            <div className=\"p-4 bg-yellow-50 text-yellow-800 rounded-lg\">\r\n              <h3 className=\"font-semibold mb-2\">Country Requirements:</h3>\r\n              <ul className=\"list-disc pl-6\">\r\n                {countryRules.map((rule, index) => (\r\n                  <li key={index}>{rule}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          {complianceVerified && errors.restrictions.length === 0 && (\r\n            <div className=\"p-4 bg-green-50 text-green-800 rounded-lg\">\r\n              ✓ Shipment complies with all regulations\r\n            </div>\r\n          )}\r\n          {submissionError && (\r\n            <div className=\"p-4 bg-red-100 text-red-800 rounded-lg\">\r\n              {submissionError}\r\n            </div>\r\n          )}\r\n        </section>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!isFormValid() || isChecking || submitting || !complianceVerified}\r\n          className={`w-full py-3 px-6 rounded-lg font-semibold transition-colors ${\r\n            (isFormValid() && complianceVerified && !isChecking && !submitting)\r\n              ? 'bg-green-600 hover:bg-green-700 text-white'\r\n              : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n          }`}\r\n        >\r\n          {submitting ? 'Submitting...' : 'Submit Shipment'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Reusable Input Component\r\nconst InputField = ({ label, name, value, onChange, error, touched, type = 'text', textarea = false, prefix, suffix, required = false, ...props }) => (\r\n  <div>\r\n    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n      {label}{required && <span className=\"text-red-500\">*</span>}\r\n    </label>\r\n    <div className=\"flex items-center gap-2\">\r\n      {prefix && <span>{prefix}</span>}\r\n      {textarea ? (\r\n        <textarea name={name} value={value} onChange={(e) => onChange(name, e.target.value)} className={`w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`} rows=\"3\" {...props} />\r\n      ) : (\r\n        <input type={type} name={name} value={value} onChange={(e) => onChange(name, e.target.value)} className={`w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`} {...props} />\r\n      )}\r\n      {suffix && <span>{suffix}</span>}\r\n    </div>\r\n    {error && touched && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\r\n  </div>\r\n);\r\n\r\n// Reusable Select Component\r\nconst SelectField = ({ label, name, value, options, onChange, error, touched, required = false }) => (\r\n  <div>\r\n    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n      {label}{required && <span className=\"text-red-500\">*</span>}\r\n    </label>\r\n    <select name={name} value={value} onChange={(e) => onChange(name, e.target.value)} className={`w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`}>\r\n      <option value=\"\">Select {label}</option>\r\n      {options.map((option, index) => (\r\n        <option key={index} value={option.value || option}>{option.label || option}</option>\r\n      ))}\r\n    </select>\r\n    {error && touched && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\r\n  </div>\r\n);\r\n\r\nexport default ComplianceForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}