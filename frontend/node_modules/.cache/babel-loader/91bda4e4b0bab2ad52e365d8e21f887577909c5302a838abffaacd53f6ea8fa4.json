{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\Projects\\\\Vership\\\\frontend\\\\src\\\\components\\\\Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport debounce from 'lodash.debounce';\n\n// Country configuration\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COUNTRY_CONFIG = {\n  US: {\n    currency: 'USD',\n    valueThreshold: 2500,\n    htsLength: 10\n  },\n  CA: {\n    currency: 'CAD',\n    valueThreshold: 3300,\n    htsLength: 10\n  },\n  DE: {\n    currency: 'EUR',\n    valueThreshold: 1000,\n    htsLength: 8\n  },\n  AE: {\n    currency: 'AED',\n    valueThreshold: 10000,\n    htsLength: 8\n  }\n};\nfunction ComplianceForm() {\n  _s();\n  var _COUNTRY_CONFIG$formD2;\n  const [formData, setFormData] = useState({\n    sender: '',\n    recipient: '',\n    productDescription: '',\n    itemType: '',\n    quantity: '',\n    weight: '',\n    unit: 'kg',\n    destination: '',\n    declaredValue: '',\n    currency: 'USD',\n    htsCode: '',\n    eccn: '',\n    countrySpecificNotes: ''\n  });\n  const [errors, setErrors] = useState({\n    sender: '',\n    recipient: '',\n    productDescription: '',\n    itemType: '',\n    quantity: '',\n    weight: '',\n    destination: '',\n    declaredValue: '',\n    htsCode: '',\n    restrictions: [],\n    complianceNotes: []\n  });\n  const [countryRules, setCountryRules] = useState(null);\n  const [touched, setTouched] = useState({});\n  const [isChecking, setIsChecking] = useState(false);\n\n  // Real-time validation for individual fields\n  const validateField = (name, value) => {\n    const rules = {\n      sender: val => !!val.trim() || 'Sender is required',\n      recipient: val => !!val.trim() || 'Recipient is required',\n      productDescription: val => !!val.trim() || 'Product description is required',\n      itemType: val => !!val.trim() || 'Item type is required',\n      quantity: val => val > 0 || 'Quantity must be positive',\n      weight: val => val > 0 || 'Weight must be positive',\n      destination: val => !!val.trim() || 'Destination is required',\n      declaredValue: val => val > 0 || 'Value must be positive',\n      htsCode: val => {\n        var _COUNTRY_CONFIG$formD;\n        const expectedLength = ((_COUNTRY_CONFIG$formD = COUNTRY_CONFIG[formData.destination]) === null || _COUNTRY_CONFIG$formD === void 0 ? void 0 : _COUNTRY_CONFIG$formD.htsLength) || 10;\n        return new RegExp(`^\\\\d{${expectedLength}}$`).test(val) || `Invalid HTS code (${expectedLength} digits required)`;\n      }\n    };\n    return rules[name] ? rules[name](value) : '';\n  };\n\n  // Check country-specific compliance rules\n  const checkCountryRules = debounce(async () => {\n    if (!formData.destination || !formData.itemType) return;\n    setIsChecking(true);\n    try {\n      const response = await fetch(`/api/compliance-check`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          destination: formData.destination,\n          itemType: formData.itemType,\n          declaredValue: formData.declaredValue\n        })\n      });\n      const {\n        restrictions,\n        requirements\n      } = await response.json();\n      setErrors(prev => ({\n        ...prev,\n        restrictions,\n        complianceNotes: requirements\n      }));\n      setCountryRules(requirements);\n    } catch (error) {\n      console.error('Compliance check failed:', error);\n    }\n    setIsChecking(false);\n  }, 500);\n\n  // Handle field changes\n  const handleChange = (name, value) => {\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Immediate field validation\n    setErrors(prev => ({\n      ...prev,\n      [name]: validateField(name, value)\n    }));\n\n    // Trigger compliance check when relevant fields change\n    if (['destination', 'itemType', 'declaredValue'].includes(name)) {\n      checkCountryRules();\n    }\n  };\n\n  // Update currency when destination changes\n  useEffect(() => {\n    if (formData.destination && COUNTRY_CONFIG[formData.destination]) {\n      setFormData(prev => ({\n        ...prev,\n        currency: COUNTRY_CONFIG[formData.destination].currency\n      }));\n    }\n  }, [formData.destination]);\n\n  // Form submission handler\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (isFormValid) {\n      console.log('Submitting compliant shipment:', formData);\n      // Submit to API\n    }\n  };\n\n  // Check overall form validity\n  const isFormValid = Object.values(errors).every(error => {\n    if (Array.isArray(error)) return error.length === 0;\n    return !error;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6 text-blue-800\",\n      children: \"Export Compliance Verification\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Parties Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"Sender Name\",\n          name: \"sender\",\n          value: formData.sender,\n          onChange: handleChange,\n          error: errors.sender,\n          touched: touched.sender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"Recipient Address\",\n          name: \"recipient\",\n          value: formData.recipient,\n          onChange: handleChange,\n          error: errors.recipient,\n          touched: touched.recipient,\n          textarea: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Product Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"Product Description\",\n          name: \"productDescription\",\n          value: formData.productDescription,\n          onChange: handleChange,\n          error: errors.productDescription,\n          touched: touched.productDescription,\n          textarea: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(SelectField, {\n            label: \"Item Type\",\n            name: \"itemType\",\n            value: formData.itemType,\n            options: ['Electronics', 'Pharmaceuticals', 'Lithium Batteries', 'Perfume', 'Chemicals'],\n            onChange: handleChange,\n            error: errors.itemType,\n            touched: touched.itemType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Quantity\",\n            name: \"quantity\",\n            type: \"number\",\n            value: formData.quantity,\n            onChange: handleChange,\n            error: errors.quantity,\n            touched: touched.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Weight\",\n            name: \"weight\",\n            type: \"number\",\n            value: formData.weight,\n            onChange: handleChange,\n            error: errors.weight,\n            touched: touched.weight,\n            suffix: /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"unit\",\n              value: formData.unit,\n              onChange: e => handleChange('unit', e.target.value),\n              className: \"ml-2 p-2 border rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"kg\",\n                children: \"kg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"lbs\",\n                children: \"lbs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n            label: \"Destination Country\",\n            name: \"destination\",\n            value: formData.destination,\n            options: Object.entries(COUNTRY_CONFIG).map(([code, config]) => ({\n              value: code,\n              label: code === 'US' ? 'United States' : code === 'CA' ? 'Canada' : code === 'DE' ? 'Germany' : 'United Arab Emirates'\n            })),\n            onChange: handleChange,\n            error: errors.destination,\n            touched: touched.destination\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Commercial Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Declared Value\",\n            name: \"declaredValue\",\n            type: \"number\",\n            value: formData.declaredValue,\n            onChange: handleChange,\n            error: errors.declaredValue,\n            touched: touched.declaredValue,\n            prefix: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mr-2\",\n              children: formData.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"HTS Code\",\n            name: \"htsCode\",\n            value: formData.htsCode,\n            onChange: handleChange,\n            error: errors.htsCode,\n            touched: touched.htsCode,\n            placeholder: `Enter ${((_COUNTRY_CONFIG$formD2 = COUNTRY_CONFIG[formData.destination]) === null || _COUNTRY_CONFIG$formD2 === void 0 ? void 0 : _COUNTRY_CONFIG$formD2.htsLength) || 10}-digit code`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          label: \"ECCN (Export Control Classification Number)\",\n          name: \"eccn\",\n          value: formData.eccn,\n          onChange: handleChange,\n          placeholder: \"Enter ECCN if applicable\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4\",\n        children: [isChecking && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-blue-50 text-blue-800 rounded-lg\",\n          children: \"Checking international compliance regulations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), errors.restrictions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-red-50 text-red-800 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-2\",\n            children: \"Compliance Restrictions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc pl-6\",\n            children: errors.restrictions.map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: error\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), countryRules && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-yellow-50 text-yellow-800 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-2\",\n            children: \"Country Requirements:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc pl-6\",\n            children: countryRules.map((rule, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: rule\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), isFormValid && !errors.restrictions.length && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-green-50 text-green-800 rounded-lg\",\n          children: \"\\u2713 Shipment complies with all regulations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !isFormValid || isChecking,\n        className: `w-full py-3 px-6 rounded-lg font-semibold transition-colors\n            ${isFormValid && !isChecking ? 'bg-green-600 hover:bg-green-700 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}\n          `,\n        children: isChecking ? 'Validating...' : 'Submit Shipment'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n}\n\n// Reusable Input Component\n_s(ComplianceForm, \"JX8E9hX1bbXcx3Ic8JrmBE5dmko=\");\n_c = ComplianceForm;\nconst InputField = ({\n  label,\n  name,\n  value,\n  onChange,\n  error,\n  touched,\n  type = 'text',\n  textarea = false,\n  prefix,\n  suffix,\n  ...props\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"block text-sm font-medium text-gray-700 mb-1\",\n    children: [label, props.required && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-red-500\",\n      children: \"*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 362,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-2\",\n    children: [prefix && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: prefix\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 18\n    }, this), textarea ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: name,\n      value: value,\n      onChange: e => onChange(name, e.target.value),\n      className: `w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`,\n      rows: \"3\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n      type: type,\n      name: name,\n      value: value,\n      onChange: e => onChange(name, e.target.value),\n      className: `w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this), suffix && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: suffix\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 5\n  }, this), error && touched && /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-1 text-sm text-red-600\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 398,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 361,\n  columnNumber: 3\n}, this);\n\n// Reusable Select Component\n_c2 = InputField;\nconst SelectField = ({\n  label,\n  name,\n  value,\n  options,\n  onChange,\n  error,\n  touched\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"block text-sm font-medium text-gray-700 mb-1\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n    name: name,\n    value: value,\n    onChange: e => onChange(name, e.target.value),\n    className: `w-full p-2 border rounded-md focus:ring-2 ${error && touched ? 'border-red-500 focus:ring-red-200' : 'border-gray-300 focus:ring-blue-200'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"\",\n      children: [\"Select \", label]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), options.map((option, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: option.value || option,\n      children: option.label || option\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 5\n  }, this), error && touched && /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-1 text-sm text-red-600\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 427,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 405,\n  columnNumber: 3\n}, this);\n_c3 = SelectField;\nexport default ComplianceForm;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ComplianceForm\");\n$RefreshReg$(_c2, \"InputField\");\n$RefreshReg$(_c3, \"SelectField\");","map":{"version":3,"names":["React","useState","useEffect","debounce","jsxDEV","_jsxDEV","COUNTRY_CONFIG","US","currency","valueThreshold","htsLength","CA","DE","AE","ComplianceForm","_s","_COUNTRY_CONFIG$formD2","formData","setFormData","sender","recipient","productDescription","itemType","quantity","weight","unit","destination","declaredValue","htsCode","eccn","countrySpecificNotes","errors","setErrors","restrictions","complianceNotes","countryRules","setCountryRules","touched","setTouched","isChecking","setIsChecking","validateField","name","value","rules","val","trim","_COUNTRY_CONFIG$formD","expectedLength","RegExp","test","checkCountryRules","response","fetch","method","headers","body","JSON","stringify","requirements","json","prev","error","console","handleChange","includes","handleSubmit","e","preventDefault","isFormValid","log","Object","values","every","Array","isArray","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","InputField","label","onChange","textarea","SelectField","options","type","suffix","target","entries","map","code","config","prefix","placeholder","index","rule","disabled","_c","props","required","rows","_c2","option","_c3","$RefreshReg$"],"sources":["D:/Study/Projects/Vership/frontend/src/components/Form.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport debounce from 'lodash.debounce';\r\n\r\n// Country configuration\r\nconst COUNTRY_CONFIG = {\r\n  US: { currency: 'USD', valueThreshold: 2500, htsLength: 10 },\r\n  CA: { currency: 'CAD', valueThreshold: 3300, htsLength: 10 },\r\n  DE: { currency: 'EUR', valueThreshold: 1000, htsLength: 8 },\r\n  AE: { currency: 'AED', valueThreshold: 10000, htsLength: 8 }\r\n};\r\n\r\nfunction ComplianceForm() {\r\n  const [formData, setFormData] = useState({\r\n    sender: '',\r\n    recipient: '',\r\n    productDescription: '',\r\n    itemType: '',\r\n    quantity: '',\r\n    weight: '',\r\n    unit: 'kg',\r\n    destination: '',\r\n    declaredValue: '',\r\n    currency: 'USD',\r\n    htsCode: '',\r\n    eccn: '',\r\n    countrySpecificNotes: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    sender: '',\r\n    recipient: '',\r\n    productDescription: '',\r\n    itemType: '',\r\n    quantity: '',\r\n    weight: '',\r\n    destination: '',\r\n    declaredValue: '',\r\n    htsCode: '',\r\n    restrictions: [],\r\n    complianceNotes: []\r\n  });\r\n\r\n  const [countryRules, setCountryRules] = useState(null);\r\n  const [touched, setTouched] = useState({});\r\n  const [isChecking, setIsChecking] = useState(false);\r\n\r\n  // Real-time validation for individual fields\r\n  const validateField = (name, value) => {\r\n    const rules = {\r\n      sender: val => !!val.trim() || 'Sender is required',\r\n      recipient: val => !!val.trim() || 'Recipient is required',\r\n      productDescription: val => !!val.trim() || 'Product description is required',\r\n      itemType: val => !!val.trim() || 'Item type is required',\r\n      quantity: val => val > 0 || 'Quantity must be positive',\r\n      weight: val => val > 0 || 'Weight must be positive',\r\n      destination: val => !!val.trim() || 'Destination is required',\r\n      declaredValue: val => val > 0 || 'Value must be positive',\r\n      htsCode: val => {\r\n        const expectedLength = COUNTRY_CONFIG[formData.destination]?.htsLength || 10;\r\n        return new RegExp(`^\\\\d{${expectedLength}}$`).test(val) \r\n          || `Invalid HTS code (${expectedLength} digits required)`;\r\n      }\r\n    };\r\n\r\n    return rules[name] ? rules[name](value) : '';\r\n  };\r\n\r\n  // Check country-specific compliance rules\r\n  const checkCountryRules = debounce(async () => {\r\n    if (!formData.destination || !formData.itemType) return;\r\n    \r\n    setIsChecking(true);\r\n    try {\r\n      const response = await fetch(`/api/compliance-check`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          destination: formData.destination,\r\n          itemType: formData.itemType,\r\n          declaredValue: formData.declaredValue\r\n        })\r\n      });\r\n\r\n      const { restrictions, requirements } = await response.json();\r\n      \r\n      setErrors(prev => ({\r\n        ...prev,\r\n        restrictions,\r\n        complianceNotes: requirements\r\n      }));\r\n\r\n      setCountryRules(requirements);\r\n    } catch (error) {\r\n      console.error('Compliance check failed:', error);\r\n    }\r\n    setIsChecking(false);\r\n  }, 500);\r\n\r\n  // Handle field changes\r\n  const handleChange = (name, value) => {\r\n    setTouched(prev => ({ ...prev, [name]: true }));\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    \r\n    // Immediate field validation\r\n    setErrors(prev => ({\r\n      ...prev,\r\n      [name]: validateField(name, value)\r\n    }));\r\n\r\n    // Trigger compliance check when relevant fields change\r\n    if (['destination', 'itemType', 'declaredValue'].includes(name)) {\r\n      checkCountryRules();\r\n    }\r\n  };\r\n\r\n  // Update currency when destination changes\r\n  useEffect(() => {\r\n    if (formData.destination && COUNTRY_CONFIG[formData.destination]) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        currency: COUNTRY_CONFIG[formData.destination].currency\r\n      }));\r\n    }\r\n  }, [formData.destination]);\r\n\r\n  // Form submission handler\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isFormValid) {\r\n      console.log('Submitting compliant shipment:', formData);\r\n      // Submit to API\r\n    }\r\n  };\r\n\r\n  // Check overall form validity\r\n  const isFormValid = Object.values(errors).every(error => {\r\n    if (Array.isArray(error)) return error.length === 0;\r\n    return !error;\r\n  });\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-xl\">\r\n      <h1 className=\"text-2xl font-bold mb-6 text-blue-800\">\r\n        Export Compliance Verification\r\n      </h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Sender/Receiver Section */}\r\n        <section className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold mb-2\">Parties Information</h2>\r\n          \r\n          <InputField\r\n            label=\"Sender Name\"\r\n            name=\"sender\"\r\n            value={formData.sender}\r\n            onChange={handleChange}\r\n            error={errors.sender}\r\n            touched={touched.sender}\r\n          />\r\n\r\n          <InputField\r\n            label=\"Recipient Address\"\r\n            name=\"recipient\"\r\n            value={formData.recipient}\r\n            onChange={handleChange}\r\n            error={errors.recipient}\r\n            touched={touched.recipient}\r\n            textarea\r\n          />\r\n        </section>\r\n\r\n        {/* Product Details Section */}\r\n        <section className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold mb-2\">Product Details</h2>\r\n\r\n          <InputField\r\n            label=\"Product Description\"\r\n            name=\"productDescription\"\r\n            value={formData.productDescription}\r\n            onChange={handleChange}\r\n            error={errors.productDescription}\r\n            touched={touched.productDescription}\r\n            textarea\r\n          />\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <SelectField\r\n              label=\"Item Type\"\r\n              name=\"itemType\"\r\n              value={formData.itemType}\r\n              options={[\r\n                'Electronics',\r\n                'Pharmaceuticals',\r\n                'Lithium Batteries',\r\n                'Perfume',\r\n                'Chemicals'\r\n              ]}\r\n              onChange={handleChange}\r\n              error={errors.itemType}\r\n              touched={touched.itemType}\r\n            />\r\n\r\n            <InputField\r\n              label=\"Quantity\"\r\n              name=\"quantity\"\r\n              type=\"number\"\r\n              value={formData.quantity}\r\n              onChange={handleChange}\r\n              error={errors.quantity}\r\n              touched={touched.quantity}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <InputField\r\n              label=\"Weight\"\r\n              name=\"weight\"\r\n              type=\"number\"\r\n              value={formData.weight}\r\n              onChange={handleChange}\r\n              error={errors.weight}\r\n              touched={touched.weight}\r\n              suffix={\r\n                <select\r\n                  name=\"unit\"\r\n                  value={formData.unit}\r\n                  onChange={(e) => handleChange('unit', e.target.value)}\r\n                  className=\"ml-2 p-2 border rounded\"\r\n                >\r\n                  <option value=\"kg\">kg</option>\r\n                  <option value=\"lbs\">lbs</option>\r\n                </select>\r\n              }\r\n            />\r\n\r\n            <SelectField\r\n              label=\"Destination Country\"\r\n              name=\"destination\"\r\n              value={formData.destination}\r\n              options={Object.entries(COUNTRY_CONFIG).map(([code, config]) => ({\r\n                value: code,\r\n                label: code === 'US' ? 'United States' :\r\n                       code === 'CA' ? 'Canada' :\r\n                       code === 'DE' ? 'Germany' :\r\n                       'United Arab Emirates'\r\n              }))}\r\n              onChange={handleChange}\r\n              error={errors.destination}\r\n              touched={touched.destination}\r\n            />\r\n          </div>\r\n        </section>\r\n\r\n        {/* Commercial Information Section */}\r\n        <section className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold mb-2\">Commercial Information</h2>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <InputField\r\n              label=\"Declared Value\"\r\n              name=\"declaredValue\"\r\n              type=\"number\"\r\n              value={formData.declaredValue}\r\n              onChange={handleChange}\r\n              error={errors.declaredValue}\r\n              touched={touched.declaredValue}\r\n              prefix={\r\n                <span className=\"mr-2\">\r\n                  {formData.currency}\r\n                </span>\r\n              }\r\n            />\r\n\r\n            <InputField\r\n              label=\"HTS Code\"\r\n              name=\"htsCode\"\r\n              value={formData.htsCode}\r\n              onChange={handleChange}\r\n              error={errors.htsCode}\r\n              touched={touched.htsCode}\r\n              placeholder={`Enter ${COUNTRY_CONFIG[formData.destination]?.htsLength || 10}-digit code`}\r\n            />\r\n          </div>\r\n\r\n          <InputField\r\n            label=\"ECCN (Export Control Classification Number)\"\r\n            name=\"eccn\"\r\n            value={formData.eccn}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter ECCN if applicable\"\r\n          />\r\n        </section>\r\n\r\n        {/* Compliance Feedback Section */}\r\n        <section className=\"space-y-4\">\r\n          {isChecking && (\r\n            <div className=\"p-4 bg-blue-50 text-blue-800 rounded-lg\">\r\n              Checking international compliance regulations...\r\n            </div>\r\n          )}\r\n\r\n          {errors.restrictions.length > 0 && (\r\n            <div className=\"p-4 bg-red-50 text-red-800 rounded-lg\">\r\n              <h3 className=\"font-semibold mb-2\">Compliance Restrictions:</h3>\r\n              <ul className=\"list-disc pl-6\">\r\n                {errors.restrictions.map((error, index) => (\r\n                  <li key={index}>{error}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {countryRules && (\r\n            <div className=\"p-4 bg-yellow-50 text-yellow-800 rounded-lg\">\r\n              <h3 className=\"font-semibold mb-2\">Country Requirements:</h3>\r\n              <ul className=\"list-disc pl-6\">\r\n                {countryRules.map((rule, index) => (\r\n                  <li key={index}>{rule}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {isFormValid && !errors.restrictions.length && (\r\n            <div className=\"p-4 bg-green-50 text-green-800 rounded-lg\">\r\n              ✓ Shipment complies with all regulations\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!isFormValid || isChecking}\r\n          className={`w-full py-3 px-6 rounded-lg font-semibold transition-colors\r\n            ${isFormValid && !isChecking \r\n              ? 'bg-green-600 hover:bg-green-700 text-white' \r\n              : 'bg-gray-300 text-gray-500 cursor-not-allowed'}\r\n          `}\r\n        >\r\n          {isChecking ? 'Validating...' : 'Submit Shipment'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Reusable Input Component\r\nconst InputField = ({ \r\n  label, \r\n  name, \r\n  value, \r\n  onChange, \r\n  error, \r\n  touched, \r\n  type = 'text', \r\n  textarea = false, \r\n  prefix, \r\n  suffix, \r\n  ...props \r\n}) => (\r\n  <div>\r\n    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n      {label}\r\n      {props.required && <span className=\"text-red-500\">*</span>}\r\n    </label>\r\n    <div className=\"flex items-center gap-2\">\r\n      {prefix && <span>{prefix}</span>}\r\n      {textarea ? (\r\n        <textarea\r\n          name={name}\r\n          value={value}\r\n          onChange={(e) => onChange(name, e.target.value)}\r\n          className={`w-full p-2 border rounded-md focus:ring-2 ${\r\n            error && touched \r\n              ? 'border-red-500 focus:ring-red-200' \r\n              : 'border-gray-300 focus:ring-blue-200'\r\n          }`}\r\n          rows=\"3\"\r\n          {...props}\r\n        />\r\n      ) : (\r\n        <input\r\n          type={type}\r\n          name={name}\r\n          value={value}\r\n          onChange={(e) => onChange(name, e.target.value)}\r\n          className={`w-full p-2 border rounded-md focus:ring-2 ${\r\n            error && touched \r\n              ? 'border-red-500 focus:ring-red-200' \r\n              : 'border-gray-300 focus:ring-blue-200'\r\n          }`}\r\n          {...props}\r\n        />\r\n      )}\r\n      {suffix && <span>{suffix}</span>}\r\n    </div>\r\n    {error && touched && (\r\n      <p className=\"mt-1 text-sm text-red-600\">{error}</p>\r\n    )}\r\n  </div>\r\n);\r\n\r\n// Reusable Select Component\r\nconst SelectField = ({ label, name, value, options, onChange, error, touched }) => (\r\n  <div>\r\n    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n      {label}\r\n    </label>\r\n    <select\r\n      name={name}\r\n      value={value}\r\n      onChange={(e) => onChange(name, e.target.value)}\r\n      className={`w-full p-2 border rounded-md focus:ring-2 ${\r\n        error && touched \r\n          ? 'border-red-500 focus:ring-red-200' \r\n          : 'border-gray-300 focus:ring-blue-200'\r\n      }`}\r\n    >\r\n      <option value=\"\">Select {label}</option>\r\n      {options.map((option, index) => (\r\n        <option key={index} value={option.value || option}>\r\n          {option.label || option}\r\n        </option>\r\n      ))}\r\n    </select>\r\n    {error && touched && (\r\n      <p className=\"mt-1 text-sm text-red-600\">{error}</p>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default ComplianceForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}